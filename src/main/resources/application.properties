# Database Configuration
# spring.datasource.url=${POSTGRES_DB_URL}
# spring.datasource.username=${POSTGRES_DB_USERNAME}
# spring.datasource.password=${POSTGRES_DB_PASSWORD}'


spring.datasource.url=jdbc:postgresql://localhost:5432/postgres
spring.datasource.username=postgres
spring.datasource.password=1234

# JPA settings
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true

# Enable PostGIS support
spring.jpa.database-platform=org.hibernate.spatial.dialect.postgis.PostgisPG10Dialect

jwt.secret=${JWT_SECRET}
jwt.expiration=${JWT_EXPIRATION}

server.address=0.0.0.0
server.port=8080

cloudinary.cloud_name=${cloudinary_cloud_name}
cloudinary.api_key=${CLOUDINARY_API_KEY}
cloudinary.api_secret=${CLOUDINARY_API_SECRET}


MAPBOX_TOKEN=${REACT_APP_MAPBOX_TOKEN}
ORS_API_KEY=${ORS_TOKEN}

WIKIMEDIA_API_BASE=${WIKIMEDIA_API_BASE}
NOMINATIM_API_BASE=${NOMINATIM_API_BASE}


USER_AGENT=${AGENT}

fb_app_id=${FB_APP_ID}
fb_app_secret=${FB_APP_SECRET}
fb_token=${FB_TOKEN}
mapbox.static-map.url-template=${MAPBOX_STATIC_MAP_URL_TEMPLATE}

baseurl=${tokenBaseUrl}

## hikari config if it slow connections
spring.datasource.hikari.connection-timeout=60000
spring.datasource.hikari.validation-timeout=10000
spring.datasource.hikari.idle-timeout=600000
spring.datasource.hikari.max-lifetime=1800000
spring.datasource.hikari.minimum-idle=1
spring.datasource.hikari.maximum-pool-size=5

# Must have this so Hikari checks the connection and reconnects automatically
spring.datasource.hikari.connection-test-query=SELECT 1

# Retry if Supabase is slow to respond
spring.datasource.test-on-borrow=true
spring.datasource.test-while-idle=true

#Optional it will run even no db connection
# spring.datasource.hikari.initialization-fail-timeout=0